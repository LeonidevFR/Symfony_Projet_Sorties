{% extends 'base.html.twig' %}

{% block body %}
    {{ form_start(form) }}

    {{ form_end(form) }}

    <table style="text-align: center;border: solid 1px black;">
        <thead>
            <tr>
                <th>Nom de la sortie</th>
                <th>Date de la sortie</th>
                <th>Clôture</th>
                <th>Inscrits/Places</th>
                <th>Etat</th>
                <th>Inscrit</th>
                <th>Organisateur</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for outing in outings %}
                <tr>
                    <td>{{ outing.nameOuting }}</td>
                    <td>{{ outing.dateHourOuting|date('d/m/Y') }}</td>
                    <td>{{ outing.dateInscriptionLimit|date('d/m/Y') }}</td>
                    <td>{{ outing.members|length }}/{{ outing.spotNumber }}</td>
                    <td>{{ outing.status }}</td>
                    <td>
                        {% if app.user.pseudo in outing.members %}
                            X
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ path('app_outing_view', {'id' : outing.id}) }}">Afficher</a>
                        {% if app.user.pseudo in outing.members %}
                            <a href="{{ path('app_outing_unsubscribe',{ 'id': outing.id }) }}">Se désister</a>
                        {% else %}
                            <a href="{{ path('app_outing_subscribe',{ 'id': outing.id }) }}">S'inscrire</a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}